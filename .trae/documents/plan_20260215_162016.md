# Deployment Fix Plan: Import Path Errors (Part 3)

## 1. Analysis
*   **Error**: `Type error: Cannot find module '@/auth'`.
*   **Cause**:
    *   `auth.ts` and `auth.config.ts` are located in the project **root** (`./auth.ts`), not inside `src`.
    *   My updated `tsconfig.json` maps `@/*` to `./src/*`.
    *   Therefore, `import { auth } from "@/auth"` is looking for `./src/auth.ts`, which doesn't exist.

## 2. Solution Strategy
I have two options:
1.  **Move `auth` to `src`**: Move `auth.ts` and `auth.config.ts` into `src/`. This is the cleanest solution and aligns with the `tsconfig` change I made.
2.  **Update `tsconfig`**: Add a path mapping for `auth` specifically. (Less clean).

I will proceed with **Option 1** (Moving files to `src`) as it consolidates the codebase structure.

## 3. Execution Steps
1.  **Move Files**: Move `auth.ts` and `auth.config.ts` to `src/`.
2.  **Update Imports**:
    *   `middleware.ts` (in root) imports `auth.config`. It might break if I move it.
    *   Wait, `middleware.ts` usually stays in root.
    *   If I move `auth.ts` to `src/auth.ts`, I need to update `middleware.ts` to import from `./src/auth.config`.
    *   I also need to check `src/app/api/auth/[...nextauth]/route.ts` which currently imports from `@/auth` (which will work after the move).

## 4. Refinement
*   **Action**: Move `auth.ts` and `auth.config.ts` to `src/`.
*   **Check**: `middleware.ts` (root) -> `import { authConfig } from "./src/auth.config"`.
*   **Check**: `src/app/api/auth/[...nextauth]/route.ts` -> `import { handlers } from "@/auth"`. (This works because `@/auth` -> `src/auth`).

*Self-Correction*: `middleware.ts` is often expected in the root by Next.js, but it can import from `src`.

